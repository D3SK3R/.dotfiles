#!/bin/sh
# reset bspc rules when first running
#bcpc rule -r "*"

# get node property:
# first get the id:
# xdotool search --name "<program name>"
# or --class "<program class>"
# bspc node <id> --focus;bspc query -T -n

##############################################################

### Monitors ###
# already set in the autostart script
#bspc monitor -d 1 2 3 4 5 6 7 8 9
bspc config remove_disabled_monitors    true
bspc config remove_unplugged_monitors   true
bspc config merge_overlapping_monitors  true

### Global Settings ###
bspc config ignore_ewmh_focus           true

# Windows
bspc config window_gap              10
bspc config top_padding             22
bspc config bottom_padding          0
bspc config left_padding            0
bspc config right_padding           0

# Rounded Corner
# https://aur.archlinux.org/packages/bspwm-rounded-corners/
bspc config border_radius           8

# Layouts
# how bigger will the master window be 
# compared to the slaves side by side
# 0.50 is same size, 0.52 is 0.2 times bigger and etc
bspc config split_ratio             0.50

# monocle
# if there's only 1 window in the tree, set it to monocle
bspc config single_monocle          true
bspc config borderless_monocle      true
bspc config gapless_monocle         true
bspc config top_monocle_padding     6
bspc config right_monocle_padding   0
bspc config bottom_monocle_padding  0           
bspc config left_monocle_padding    0

# Mouse
bspc config pointer_modifier        mod4
bspc config pointer_action1         move
bspc config pointer_action2         resize_side
bspc config pointer_action3         resize_corner
bspc config focus_follows_pointer   true
bspc config pointer_follows_monitor true
bspc config click_to_focus          any
bspc config swallow_first_click     true

# Border colors
bspc config border_width            2
bspc config normal_border_color     "#000000"
bspc config active_border_color     "#000000"
bspc config focused_border_color    "#16aee5"
bspc config urgent_border_color     "#16aee5"

bspc config presel_feedback_color   "#0f151f"

### Rules ###
# Discriminate windows based on their class_name:instance_name:name/title
# example vim:*:pythonScript.py
bspc config external_rules_command                         ~/.config/bspwm/external_rules
#bspc rule -a "URxvt:*:floating_terminal"                    state=floating hidden=on sticky=on rectangle=570x360+400+32 
#bspc rule -a "URxvt:*:floating_terminal2"                   state=floating hidden=on sticky=on rectangle=1356x732+3+28
#bspc rule -a "URxvt:*:ncmpcpp"                              state=floating hidden=on sticky=on rectangle=801x525+275+100
#bspc rule -a "*:st:floating_terminal"                       state=floating hidden=on sticky=on rectangle=570x360+400+32 
#bspc rule -a "*:st:floating_terminal2"                      state=floating hidden=on sticky=on rectangle=1356x732+3+28
#bspc rule -a "*:st:ncmpcpp"                                 state=floating hidden=on sticky=on rectangle=801x525+275+100
#bspc rule -a "firefox"                                      state=floating hidden=on sticky=on rectangle=1356x732+3+28
#bspc rule -a "discord"                                      state=floating hidden=on sticky=on rectangle=1356x732+3+28
#bspc rule -a "lightcord"                                    state=floating hidden=on sticky=on rectangle=1356x732+3+28
#bspc rule -a "XTerm:*:*"                                    state=floating rectangle=872x501+1613+127
#bspc rule -a "*:*:Save File"                                state=floating rectangle=723x543+1687+103
#bspc rule -a "*:*:Open File"                                state=floating rectangle=723x543+1687+103
#bspc rule -a "*:*:Open Files"                               state=floating rectangle=723x543+1687+103
#bspc rule -a "*:*:Task Manager - Google Chrome"             state=floating rectangle=757x564+1654+94
#bspc rule -a "Minecraft Launcher"                           state=floating rectangle=999x658+1547+55
#bspc rule -a "lunarclient:*:*"                              state=floating rectangle=973x666+193+50
#bspc rule -a "qutebrowser"                                  state=floating center=true
#bspc rule -a "realvnc-vncserverui-service:*"                state=floating center=true
#bspc rule -a "realvnc-vncviewer:*"                          state=floating center=true
#bspc rule -a "*:*:Power Manager"                            state=floating
#bspc rule -a "*:*:Network Connections"                      state=floating
#bspc rule -a "copyq"                                        state=floating
#bspc rule -a "Arandr"                                       state=floating
#bspc rule -a "Pavucontrol"                                  state=floating
#bspc rule -a "Lxappearance"                                 state=floating
#bspc rule -a "Manjaro Settings Manager"                     state=floating
#bspc rule -a "Nitrogen"                                     state=floating
#bspc rule -a "Pamac-manager"                                state=floating
#bspc rule -a "MEGAsync"                                     state=floating
#bspc rule -a "GParted"                                      state=floating
#bspc rule -a "Kvantum Manager"                              state=floating
#bspc rule -a "Gucharmap"                                    state=floating
#bspc rule -a "soundux"                                      state=floating

#########################################################
##                      AUTOSTART                      ##
#########################################################
$HOME/.scripts/autostart.sh
sleep 3 && bspc desktop -f 1 && bspc desktop -l next
sleep 5 && bspc config top_padding 22

